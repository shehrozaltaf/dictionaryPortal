<link rel="stylesheet" type="text/css"      href="<?php echo base_url() ?>assets/css/plugins/forms/checkboxes-radios.min.css"><style>    label {        color: #4d4f5c;    }    .main_question_head {        color: #000b70;    }</style><div class="app-content content">    <div class="content-wrapper">        <div class="content-wrapper-before"></div>        <div class="content-header row">            <div class="content-header-left col-md-8 col-12 mb-2 breadcrumb-new">                <h3 class="content-header-title mb-0 d-inline-block">App Form</h3>                <div class="breadcrumbs-top d-inline-block">                    <div class="breadcrumb-wrapper mr-1">                        <ol class="breadcrumb">                            <li class="breadcrumb-item"><a href="<?php echo base_url() ?>">Home </a></li>                            <li class="breadcrumb-item active">Form</li>                        </ol>                    </div>                </div>            </div>        </div>        <div class="content-body">            <section id="basic-form-layouts">                <div class="row match-height">                    <div class="col-md-12">                        <div class="card">                            <div class="card-header">                                <a class="heading-elements-toggle">                                    <i class="la la-ellipsis-v font-medium-3"></i>                                </a>                                <div class="heading-elements">                                    <ul class="list-inline mb-0">                                        <li>                                            <a data-action="collapse">                                                <i class="ft-minus"></i>                                            </a>                                        </li>                                        <li>                                            <a data-action="reload">                                                <i class="ft-rotate-cw"></i>                                            </a>                                        </li>                                        <li>                                            <a data-action="expand">                                                <i class="ft-maximize"></i>                                            </a>                                        </li>                                    </ul>                                </div>                            </div>                            <div class="card-content collapse show">                                <div class="card-body">                                    <div class="form">                                        <div class="form-body">                                            <h4 class="form-section">                                                <i class="ft-flag"></i>Check Form</h4>                                            <div class="row">                                                <div class="col-md-12">                                                    <div class="form-group">                                                        <label for="idProject">Project</label>                                                        <?php if (isset($projects) && $projects != '') { ?>                                                            <select id="idProject" name="idProject"                                                                    onchange="changeProject()"                                                                    class="form-control">                                                                <option value="0" <?php (!isset($slug_projects) || $slug_projects == 0 ? 'selected' : '') ?>>                                                                    Select Project                                                                </option>                                                                <?php foreach ($projects as $key => $values) {                                                                    echo '<option value="' . $values->idProjects . '"                                                                     ' . (isset($slug_projects) && $slug_projects == $values->idProjects ? 'selected' : '') . '>                                                                    ' . $values->project_name . '</option>';                                                                } ?>                                                            </select>                                                        <?php } ?>                                                    </div>                                                </div>                                            </div>                                            <div class="row">                                                <div class="col-md-12">                                                    <div class="form-group">                                                        <label for="crf_id">CRF</label>                                                        <select id="crf_id" name="crf_id" class="form-control"                                                                onchange="changeCrf()">                                                            <option value="0" selected>                                                                Select CRF                                                            </option>                                                        </select>                                                    </div>                                                </div>                                            </div>                                            <div class="row">                                                <div class="col-md-12">                                                    <div class="form-group">                                                        <label for="idModule">Module</label>                                                        <select id="idModule" name="idModule" class="form-control"                                                                onchange="changeModule() ">                                                            <option value="0" selected>                                                                Select Module                                                            </option>                                                        </select>                                                    </div>                                                </div>                                            </div>                                            <div class="row">                                                <div class="col-md-12">                                                    <div class="form-group">                                                        <label for="idSection">Section</label>                                                        <select id="idSection" name="idSection" class="form-control">                                                            <option value="0" selected>                                                                Select Section                                                            </option>                                                        </select>                                                    </div>                                                </div>                                            </div>                                        </div>                                    </div>                                    <div class="form-actions ">                                        <button type="button" class="btn bg-gradient-x-blue-green white"                                                onclick="getData()">                                            <i class="la la-file-pdf-o"></i> Get Data                                        </button>                                    </div>                                </div>                            </div>                        </div>                    </div>                </div>            </section>            <?php            if (isset($data) && $data != '' && count($data) >= 1) { ?>                <section id="main_content">                    <div class="row match-height">                        <div class="col-md-12">                            <div class="card">                                <div class="card-header">                                    <a class="heading-elements-toggle">                                        <i class="la la-ellipsis-v font-medium-3"></i>                                    </a>                                    <div class="heading-elements">                                        <ul class="list-inline mb-0">                                            <li>                                                <a data-action="collapse">                                                    <i class="ft-minus"></i>                                                </a>                                            </li>                                            <li>                                                <a data-action="reload">                                                    <i class="ft-rotate-cw"></i>                                                </a>                                            </li>                                            <li>                                                <a data-action="expand">                                                    <i class="ft-maximize"></i>                                                </a>                                            </li>                                        </ul>                                    </div>                                </div>                                <div class="card-content collapse show">                                    <div class="card-body">                                        <?php $html = '';                                        $innterHtml = '';                                        if (isset($data) && $data != '') {                                            $expLang = explode(',', $data[0]->languages);                                            if (count($expLang) >= 3) {                                                $colmd = 4;                                            } else {                                                $colmd = 6;                                            }                                            ?>                                            <div class="row">                                                <?php for ($l = 1; $l <= count($expLang); $l++) {                                                    $label = 'label_l' . $l; ?>                                                    <div class="col-md-<?php echo $colmd; ?>">                                                        <ul class="list-group ">                                                            <?php                                                            foreach ($data as $k => $v) {                                                                if (isset($v->skipQuestion) && $v->skipQuestion != '') {                                                                    $skip = '<p class="red">Note: skip to ' . $v->skipQuestion . '</p>';                                                                    $from = "'$v->variable_name'";                                                                    $to = "'$v->skipQuestion'";                                                                    $skipTo = 'onclick="skipTo(this,' . strtolower($from) . ',' . strtolower($to) . ')"';                                                                } else {                                                                    $skip = '';                                                                    $skipTo = '';                                                                }                                                                $val = (isset($v->option_value) && $v->option_value != '' ? '<small class="red">(Value: ' . $v->option_value . ')</small>' : '');                                                                $min = (isset($v->MinVal) && $v->MinVal != '' ? '<small class="primary">(Min: ' . $v->MinVal . ')</small>' : '');                                                                $max = (isset($v->MaxVal) && $v->MaxVal != '' ? '<small class="primary">(Max: ' . $v->MaxVal . ')</small>' : '');                                                                if ($v->nature == 'Radio' || $v->nature == 'CheckBox') {                                                                    $innterHtml = '<label class="main_question_head ' . strtolower($v->variable_name) . '">                                                                            <small>' . strtolower($v->variable_name) . ':</small> ' . $v->$label . '                                                                            ' . $val . $min . $max . '                                                                       </label>' . $skip;                                                                } elseif ($v->nature == 'Input') {                                                                    $innterHtml = '<div class="' . strtolower($v->variable_name) . '">                                                                            <label for="' . strtolower($v->variable_name) . '" class="main_question_head">                                                                                <small>' . strtolower($v->variable_name) . ':</small> ' . $v->$label . '                                                                                ' . $val . $min . $max . '                                                                            </label>                                                                            <input type="text"  class="form-control" value="' . $v->option_value . '" id="' . strtolower($v->variable_name) . '" name="' . strtolower($v->variable_name) . '" >                                                                        </div>';                                                                } elseif ($v->nature == 'Input-Numeric') {                                                                    $innterHtml = '<div class="' . strtolower($v->variable_name) . '">                                                                            <label for="' . strtolower($v->variable_name) . '" class="main_question_head">                                                                                <small>' . strtolower($v->variable_name) . ':</small> ' . $v->$label . '                                                                                ' . $val . $min . $max . '                                                                           </label>                                                                           <input type="number"  class="form-control" value="' . $v->option_value . '" id="' . strtolower($v->variable_name) . '" name="' . strtolower($v->variable_name) . '" >                                                                       </div>';                                                                } elseif ($v->nature == 'Title') {                                                                    $innterHtml = '<h6 class="main_question_head ' . strtolower($v->variable_name) . '">                                                                            <small>' . strtolower($v->variable_name) . ':</small> ' . $v->$label . '                                                                             ' . $val . $min . $max . '                                                                       </h6>';                                                                }                                                                if (isset($v->myrow_options) && $v->myrow_options != '') {                                                                    foreach ($v->myrow_options as $c_k => $c_v) {                                                                        if (isset($c_v->skipQuestion) && $c_v->skipQuestion != '') {                                                                            $c_skip = '<small class="red">Note: skip to ' . $c_v->skipQuestion . '</small>';                                                                            $from = "'$v->variable_name'";                                                                            $to = "'$c_v->skipQuestion'";                                                                            $c_skipTo = 'onchange="skipTo(this,' . strtolower($from) . ',' . strtolower($to) . ')"';                                                                        } else {                                                                            $from = "'$v->variable_name'";                                                                            $to = "'$v->variable_name'";                                                                            $c_skip = '';                                                                            $c_skipTo = 'onchange="returnTo(this,' . strtolower($from) . ')"';;                                                                        }                                                                        $val_opt = (isset($c_v->option_value) && $c_v->option_value != '' ? '<small class="red">(Value: ' . $c_v->option_value . ')</small>' : '');                                                                        $min_opt = (isset($c_v->MinVal) && $c_v->MinVal != '' ? '<small class="primary">(Min: ' . $c_v->MinVal . ')</small>' : '');                                                                        $max_opt = (isset($c_v->MaxVal) && $c_v->MaxVal != '' ? '<small class="primary">(Max: ' . $c_v->MaxVal . ')</small>' : '');                                                                        if ($c_v->nature == 'Radio' || $c_v->nature == 'CheckBox') {                                                                            $innterHtml .= '<div class="form-check ' . strtolower($c_v->variable_name) . '">                                                                                    <input type="' . strtolower($c_v->nature) . '" class="form-check-input"                                                                                          value="' . $c_v->option_value . '" id="' . strtolower($c_v->variable_name) . '"                                                                                         name="' . strtolower($v->variable_name) . '" ' . $c_skipTo . '>                                                                                    <label for="' . strtolower($c_v->variable_name) . '" class="form-check-label">                                                                                        <small>' . strtolower($c_v->variable_name) . ':</small> ' . $c_v->$label . '                                                                                         ' . $val_opt . $min_opt . $max_opt . '                                                                                    </label> ' . $c_skip . '                                                                                </div>';                                                                        } elseif (($v->nature == 'Radio' || $v->nature == 'CheckBox') && $c_v->nature == 'Title') {                                                                            $innterHtml .= '<h6 class=" main_question_head ' . strtolower($c_v->variable_name) . '">                                                                                    <small>' . strtolower($c_v->variable_name) . ':</small> ' . $c_v->$label . '                                                                                     ' . $val_opt . $min_opt . $max_opt . '                                                                               </h6>';                                                                        } elseif (($v->nature == 'Radio' || $v->nature == 'CheckBox') && $c_v->nature == 'Input') {                                                                            $innterHtml .= '<div class="form-check ' . strtolower($c_v->variable_name) . '">                                                                                    <input type="' . strtolower($v->nature) . '" class="form-check-input"                                                                                          value="' . $c_v->option_value . '" id="' . strtolower($c_v->variable_name) . '"                                                                                         name="' . strtolower($v->variable_name) . '" onclick="showInp(this)"  ' . $c_skipTo . '>                                                                                    <label for="' . strtolower($c_v->variable_name) . '" class="form-check-label">                                                                                        <small>' . strtolower($c_v->variable_name) . ':</small> ' . $c_v->$label . '                                                                                          ' . $val_opt . $min_opt . $max_opt . '                                                                                    </label>' . $c_skip . '                                                                                </div>';                                                                            $innterHtml .= '<div class="hidden toggleInp ' . strtolower($c_v->variable_name) . 'x">                                                                                        <label for="' . strtolower($c_v->variable_name) . 'x" class="">                                                                                            <small>' . strtolower($c_v->variable_name) . 'x:</small> ' . $c_v->$label . '                                                                                        </label>' . $c_skip . '                                                                                        <input type="text"  class="form-control" id="' . strtolower($c_v->variable_name) . 'x"                                                                                             name="' . strtolower($c_v->variable_name) . 'x" >                                                                                </div>';                                                                        } elseif (($v->nature == 'Radio' || $v->nature == 'CheckBox') && $c_v->nature == 'Input-Numeric') {                                                                            $innterHtml .= '<div class="form-check ' . strtolower($c_v->variable_name) . '">                                                                                    <input type="' . strtolower($v->nature) . '" class="form-check-input"                                                                                          value="' . $c_v->option_value . '" id="' . strtolower($c_v->variable_name) . '"                                                                                         name="' . strtolower($v->variable_name) . '" onclick="showInp(this)"  ' . $c_skipTo . '>                                                                                    <label for="' . strtolower($c_v->variable_name) . '" class="form-check-label">                                                                                        <small>' . strtolower($c_v->variable_name) . ':</small> ' . $c_v->$label . '                                                                                          ' . $val_opt . $min_opt . $max_opt . '                                                                                    </label>' . $c_skip . '                                                                                </div>';                                                                            $innterHtml .= '<div class="hidden toggleInp ' . strtolower($c_v->variable_name) . 'x">                                                                                    <label for="' . strtolower($c_v->variable_name) . 'x" class="">                                                                                        <small>' . strtolower($c_v->variable_name) . 'x: </small> ' . $c_v->$label . '                                                                                    </label>' . $c_skip . '                                                                                    <input type="number"  class="form-control" id="' . strtolower($c_v->variable_name) . 'x"                                                                                        name="' . strtolower($c_v->variable_name) . 'x" >                                                                                </div>';                                                                        } elseif ($c_v->nature == 'Input') {                                                                            $innterHtml .= '<div class="' . strtolower($c_v->variable_name) . '">                                                                                    <label for="' . strtolower($c_v->variable_name) . '" class="">                                                                                        <small>' . strtolower($c_v->variable_name) . ':</small> ' . $c_v->$label . '                                                                                          ' . $val_opt . $min_opt . $max_opt . '                                                                                    </label>' . $c_skip . '                                                                                    <input type="text"  class="form-control" value="' . $c_v->option_value . '"                                                                                             id="' . strtolower($c_v->variable_name) . '" name="' . strtolower($c_v->variable_name) . '" >                                                                                </div>';                                                                        } elseif ($c_v->nature == 'Input-Numeric') {                                                                            $innterHtml .= '<div class="' . strtolower($c_v->variable_name) . '">                                                                                    <label for="' . strtolower($c_v->variable_name) . '" class="">                                                                                        <small>' . strtolower($c_v->variable_name) . ':</small> ' . $c_v->$label . '                                                                                          ' . $val_opt . $min_opt . $max_opt . '                                                                                    </label>' . $c_skip . '                                                                                    <input type="number"  class="form-control" value="' . $c_v->option_value . '"                                                                                     id="' . strtolower($c_v->variable_name) . '" name="' . strtolower($c_v->variable_name) . '" >                                                                                </div>';                                                                        }                                                                    }                                                                }                                                                $html = '<li class="list-group-item bg-blue-grey bg-lighten-4 mainli div_' . strtolower($v->variable_name) . '">';                                                                $html .= $innterHtml;                                                                $html .= '</li> ';                                                                echo $html;                                                            }                                                            ?>                                                        </ul>                                                    </div>                                                <?php } ?>                                            </div>                                        <?php } ?>                                        <!--<div class="form-actions ">                                            <button type="button"                                                    class="btn bg-gradient-x-blue-green white">                                                <i class="la la-file-pdf-o"></i> Insert Data                                            </button>                                        </div>-->                                    </div>                                </div>                            </div>                        </div>                    </div>                </section>            <?php } ?>        </div>    </div></div><input type="hidden" id="slug_crf" value="<?php echo(isset($slug_crf) && $slug_crf != '' ? $slug_crf : '0') ?>"><input type="hidden" id="slug_module"       value="<?php echo(isset($slug_module) && $slug_module != '' ? $slug_module : '0') ?>"><input type="hidden" id="slug_section"       value="<?php echo(isset($slug_section) && $slug_section != '' ? $slug_section : '0') ?>"><script>    $(document).ready(function () {        $('.myAppForm').addClass('active');        changeProject();    });    function changeProject() {        var data = {};        data['idProjects'] = $('#idProject').val();        if (data['idProjects'] != '' && data['idProjects'] != undefined && data['idProjects'] != '0' && data['idProjects'] != '$1') {            CallAjax('<?php echo base_url() . 'index.php/Crf/getCRFByProject'  ?>', data, 'POST', function (res) {                var items = '<option value="0"   selected>Select CRF</option>';                if (res != '' && JSON.parse(res).length > 0) {                    var response = JSON.parse(res);                    try {                        var slug = $('#slug_crf').val();                        $.each(response, function (i, v) {                            items += '<option value="' + v.id_crf + '" ' + (slug == v.id_crf ? "selected" : "") + '>' + v.crf_name + '</option>';                        })                    } catch (e) {                    }                }                $('#crf_id').html('').html(items);                changeCrf();            });        } else {            $('#crf_id').html('<option value="0"   selected>Select CRF</option>');        }    }    function changeCrf() {        var data = {};        data['idCrf'] = $('#crf_id').val();        if (data['idCrf'] != '' && data['idCrf'] != undefined && data['idCrf'] != '0' && data['idCrf'] != '$1') {            CallAjax('<?php echo base_url() . 'index.php/Module/getModuleByCrf'  ?>', data, 'POST', function (res) {                var items = '<option value="0"  selected>Select Module</option>';                if (res != '' && JSON.parse(res).length > 0) {                    var response = JSON.parse(res);                    try {                        var slug = $('#slug_module').val();                        $.each(response, function (i, v) {                            items += '<option value="' + v.idModule + '" ' + (slug == v.idModule ? "selected" : "") + '>' + v.module_name_l1 + '</option>';                        })                    } catch (e) {                    }                }                $('#idModule').html('').html(items);                changeModule();            });        } else {            $('#idModule').html('<option value="0" selected>Select Module</option>');        }    }    function changeModule() {        var data = {};        data['idModule'] = $('#idModule').val();        if (data['idModule'] != '' && data['idModule'] != undefined && data['idModule'] != '0' && data['idModule'] != '$1') {            CallAjax('<?php echo base_url() . 'index.php/Section/getSectionByModule'  ?>', data, 'POST', function (res) {                var items = '<option value="0"   selected>Select Section</option>';                if (res != '' && JSON.parse(res).length > 0) {                    var response = JSON.parse(res);                    try {                        var slug = $('#slug_section').val();                        $.each(response, function (i, v) {                            items += '<option value="' + v.idSection + '" ' + (slug == v.idSection ? "selected" : "") + '>' + v.section_title + '</option>';                        })                    } catch (e) {                    }                }                $('#idSection').html('').html(items);            });        } else {            $('#idSection').html('<option value="0" selected>Select Section</option>');        }    }    function getData() {        $('#idProject').css('border', '1px solid #babfc7');        $('#crf_id').css('border', '1px solid #babfc7');        $('#idModule').css('border', '1px solid #babfc7');        $('#idSection').css('border', '1px solid #babfc7');        var data = {};        data['idProjects'] = $('#idProject').val();        data['crf_id'] = $('#crf_id').val();        data['idModule'] = $('#idModule').val();        data['idSection'] = $('#idSection').val();        var flag = 0;        var url = '<?php echo base_url('index.php/AppForm?') ?>';        if (data['idProjects'] != '' && data['idProjects'] != '0' && data['idProjects'] != undefined && data['idProjects'] != null) {            url += 'project=' + data['idProjects'];        } else {            flag = 1;            $('#idProject').css('border', '1px solid red');            toastMsg('Project', 'Invalid Project', 'error');            return false;        }        if (data['crf_id'] != '' && data['crf_id'] != '0' && data['crf_id'] != undefined && data['crf_id'] != null) {            url += '&crf=' + data['crf_id'];        } else {            flag = 1;            $('#crf_id').css('border', '1px solid red');            toastMsg('CRF', 'Invalid CRF', 'error');            return false;        }        if (data['idModule'] != '' && data['idModule'] != '0' && data['idModule'] != undefined && data['idModule'] != null) {            url += '&module=' + data['idModule'];        } else {            flag = 1;            $('#idModule').css('border', '1px solid red');            toastMsg('Module', 'Invalid Module', 'error');            return false;        }        if (data['idSection'] != '' && data['idSection'] != '0' && data['idSection'] != undefined && data['idSection'] != null) {            url += '&section=' + data['idSection'];        } else {            flag = 1;            $('#idSection').css('border', '1px solid red');            toastMsg('Section', 'Invalid Section', 'error');            return false;        }        if (flag == 0) {            showloader();            window.location.href = url;        } else {            $('#idProject').css('border', '1px solid red');            toastMsg('Project', 'Invalid Project', 'error');            return false;        }    }    function showInp(obj) {        if ($(obj).is(":checked")) {            $(obj).parents('.form-check').next('.toggleInp').removeClass('hidden');        } else {            $(obj).parents('.form-check').next('.toggleInp').addClass('hidden');        }    }    function skipTo(obj, divFrom, divTo) {        $(".div_" + divFrom).next(".div_" + divTo).find('input').removeAttr('disabled', 'disabled');        if ($(obj).is(":checked")) {            $(".div_" + divFrom).nextUntil(".div_" + divTo).find('input').attr('disabled', 'disabled')        } else {            $(".div_" + divFrom).nextUntil(".div_" + divTo).find('input').removeAttr('disabled', 'disabled')        }    }    function returnTo(obj, div) {        $(".div_" + div).next('.mainli').find('input').removeAttr('disabled', 'disabled');    }</script>